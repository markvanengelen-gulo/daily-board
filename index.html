<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Board - Track Your Daily Disciplines</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Daily Board</h1>
            <p class="subtitle">Track your daily disciplines and tasks</p>
            <div id="syncIndicator" class="sync-indicator" style="display: none;">Syncing...</div>
            <div id="syncMode" class="sync-mode" style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">Sync: Unknown</div>
            <div id="syncStatus" class="sync-status" style="font-size: 0.85rem; color: #666; margin-top: 0.3rem;">Last sync: Never</div>
            <div id="errorMessage" class="error-message" style="display: none;"></div>
            
            <div class="config-section" style="display: none;">
                <details id="configDetails">
                    <summary>‚öôÔ∏è Cloud Sync Configuration</summary>
                    <div class="config-content">
                        <p>Configure cloud storage to enable cross-device synchronization.</p>
                        
                        <!-- Dropbox Configuration -->
                        <div class="cloud-provider-config">
                            <h3>‚òÅÔ∏è Dropbox</h3>
                            <p class="token-status">Status: <span id="dropboxStatusText">Not configured</span></p>
                            <input 
                                type="password" 
                                id="dropboxTokenInput" 
                                class="config-input" 
                                placeholder="Enter your Dropbox Access Token"
                            >
                            <div class="config-buttons">
                                <button id="saveDropboxTokenBtn" class="config-btn">Save Token</button>
                                <button id="clearDropboxTokenBtn" class="config-btn" style="background: #ff6b6b;">Clear Token</button>
                            </div>
                            <p class="config-note">
                                <strong>How to get a Dropbox token:</strong><br>
                                1. Go to <a href="https://www.dropbox.com/developers/apps" target="_blank">Dropbox App Console</a><br>
                                2. Create a new app or use an existing one<br>
                                3. Generate an access token<br>
                                4. Copy the token and paste it above
                            </p>
                        </div>

                        <!-- Google Drive Configuration -->
                        <div class="cloud-provider-config" style="margin-top: 1.5rem;">
                            <h3>üìÅ Google Drive</h3>
                            <p class="token-status">Status: <span id="googleDriveStatusText">Not configured</span></p>
                            <input 
                                type="password" 
                                id="googleDriveTokenInput" 
                                class="config-input" 
                                placeholder="Enter your Google Drive Access Token"
                            >
                            <div class="config-buttons">
                                <button id="saveGoogleDriveTokenBtn" class="config-btn">Save Token</button>
                                <button id="clearGoogleDriveTokenBtn" class="config-btn" style="background: #ff6b6b;">Clear Token</button>
                            </div>
                            <p class="config-note">
                                <strong>How to get a Google Drive token:</strong><br>
                                1. Go to <a href="https://console.cloud.google.com/" target="_blank">Google Cloud Console</a><br>
                                2. Create a new project or select existing<br>
                                3. Enable Google Drive API<br>
                                4. Create OAuth 2.0 credentials<br>
                                5. Use OAuth playground to get access token<br>
                                <a href="https://developers.google.com/oauthplayground/" target="_blank">OAuth 2.0 Playground</a>
                            </p>
                        </div>

                        <!-- GitHub Configuration -->
                        <div class="cloud-provider-config" style="margin-top: 1.5rem;">
                            <h3>üêô GitHub</h3>
                            <p class="token-status" id="tokenStatus">Status: <span id="tokenStatusText">Not configured</span></p>
                            <input 
                                type="password" 
                                id="githubTokenInput" 
                                class="config-input" 
                                placeholder="Enter your GitHub Personal Access Token"
                            >
                            <div class="config-buttons">
                                <button id="saveTokenBtn" class="config-btn">Save Token</button>
                                <button id="clearTokenBtn" class="config-btn" style="background: #ff6b6b;">Clear Token</button>
                            </div>
                            <p class="config-note">
                                <strong>How to get a GitHub token:</strong><br>
                                1. Go to <a href="https://github.com/settings/tokens" target="_blank">GitHub Settings ‚Üí Personal Access Tokens</a><br>
                                2. Click "Generate new token (classic)"<br>
                                3. Select the <code>repo</code> scope<br>
                                4. Copy the token and paste it above
                            </p>
                        </div>
                        
                        <p class="config-note" style="margin-top: 1.5rem;">
                            <strong>Note:</strong> All tokens are stored securely in your browser and never sent to any third-party services.
                            Priority: Local Server ‚Üí Dropbox ‚Üí Google Drive ‚Üí GitHub ‚Üí Local-Only
                        </p>
                    </div>
                </details>
            </div>
        </header>

        <div class="week-navigation">
            <button id="prevDay" class="nav-btn">‚Üê Previous</button>
            <div class="current-date">
                <h2 id="currentDate"></h2>
            </div>
            <button id="nextDay" class="nav-btn">Next ‚Üí</button>
        </div>

        <main>
            <section class="disciplines-section">
                <div class="section-header">
                    <h3>Daily Disciplines</h3>
                </div>
                <div class="disciplines-list" id="disciplinesList">
                    <!-- Active disciplines will be added here by JS -->
                </div>
                <div id="completedDisciplinesSection" class="completed-section" style="display: none;">
                    <h4 class="completed-header">Completed Disciplines</h4>
                    <div class="disciplines-list" id="completedDisciplinesList">
                        <!-- Completed disciplines will be added here by JS -->
                    </div>
                </div>
            </section>

            <section class="tasks-section">
                <h3>Tasks</h3>
                <div class="add-task-container">
                    <input 
                        type="text" 
                        id="newTaskInput" 
                        placeholder="Add a new task..." 
                        class="task-input"
                    >
                    <button id="addTaskBtn" class="add-btn">Add Task</button>
                </div>
                <div class="tasks-list" id="tasksList">
                    <!-- Active tasks will be added here by JS -->
                </div>
                <div id="completedTasksSection" class="completed-section" style="display: none;">
                    <h4 class="completed-header">Completed Tasks</h4>
                    <div class="tasks-list" id="completedTasksList">
                        <!-- Completed tasks will be added here by JS -->
                    </div>
                </div>
            </section>

            <section class="lists-section">
                <div class="section-header">
                    <h3>Lists</h3>
                    <button id="syncBtn" class="download-btn" title="Sync data to data.json">üîÑ Sync</button>
                    <button id="downloadBtn" class="download-btn" title="Download all data as JSON">üì• Download</button>
                </div>
                <div class="tabs-container">
                    <div class="tabs" id="tabsContainer">
                        <!-- Tabs will be added here -->
                    </div>
                    <button id="addTabBtn" class="add-tab-btn">+ New List</button>
                </div>
                <div class="tab-content" id="tabContent">
                    <textarea 
                        id="listTextarea" 
                        class="list-textarea"
                        placeholder="Enter your list items here, one per line..."
                        rows="10"
                    ></textarea>
                </div>
            </section>
        </main>
        
        <footer style="margin-top: 2rem; padding: 1rem; text-align: center; font-size: 0.9rem; color: #666;">
            <button id="viewErrorLogBtn" class="download-btn" style="font-size: 0.8rem; padding: 0.3rem 0.8rem;" title="View error log for debugging">üîç View Error Log</button>
        </footer>
    </div>

    <script src="sync-providers.js"></script>
    <script src="app.js"></script>
</body>
</html>
