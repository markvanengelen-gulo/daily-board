<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Board - Track Your Daily Disciplines</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Daily Board</h1>
            <p class="subtitle">Track your daily disciplines and tasks</p>
            <div style="display: flex; align-items: center; justify-content: center; gap: 1rem; margin-top: 0.5rem; flex-wrap: wrap;">
                <button id="syncBtn" class="download-btn" title="Sync data with cloud storage" style="margin: 0;">üîÑ Sync</button>
                <div id="syncIndicator" class="sync-indicator" style="display: none; margin: 0;">Syncing...</div>
                <div id="syncMode" class="sync-mode" style="font-size: 0.85rem; color: #666; margin: 0;">Sync: Unknown</div>
                <div id="syncStatus" class="sync-status" style="font-size: 0.85rem; color: #666; margin: 0;">Last sync: Never</div>
            </div>
            <div id="errorMessage" class="error-message" style="display: none;"></div>
            
            <div class="config-section">
                <details id="configDetails">
                    <summary>‚öôÔ∏è Sync Configuration</summary>
                    <div class="config-content">
                        <p>Configure GitHub token to enable cross-device synchronization.</p>
                        
                        <!-- GitHub Configuration -->
                        <div class="cloud-provider-config">
                            <h3>üêô GitHub</h3>
                            <p class="token-status" id="tokenStatus">Status: <span id="tokenStatusText">Not configured</span></p>
                            <input 
                                type="password" 
                                id="githubTokenInput" 
                                class="config-input" 
                                placeholder="Enter your GitHub Personal Access Token"
                            >
                            <div class="config-buttons">
                                <button id="saveTokenBtn" class="config-btn">Save Token</button>
                                <button id="clearTokenBtn" class="config-btn" style="background: #ff6b6b;">Clear Token</button>
                            </div>
                            <p class="config-note">
                                <strong>How to get a GitHub token:</strong><br>
                                1. Go to <a href="https://github.com/settings/tokens" target="_blank">GitHub Settings ‚Üí Personal Access Tokens</a><br>
                                2. Click "Generate new token (classic)"<br>
                                3. Select the <code>repo</code> scope<br>
                                4. Copy the token and paste it above
                            </p>
                        </div>
                        
                        <p class="config-note" style="margin-top: 1.5rem;">
                            <strong>Note:</strong> Your token is stored securely in your browser and never sent to any third-party services.<br>
                            <strong>Git-Based Sync:</strong> The sync button commits your changes to data.json and pushes them to GitHub, 
                            triggering automatic GitHub Pages redeployment. All your devices will pull the latest changes from GitHub Pages.
                        </p>
                    </div>
                </details>
            </div>
        </header>

        <div class="week-navigation">
            <button id="prevDay" class="nav-btn">‚Üê Previous</button>
            <div class="current-date">
                <h2 id="currentDate"></h2>
            </div>
            <button id="nextDay" class="nav-btn">Next ‚Üí</button>
        </div>

        <main>
            <section class="disciplines-section">
                <div class="section-header">
                    <h3>Daily Disciplines</h3>
                </div>
                <div class="disciplines-list" id="disciplinesList">
                    <!-- Active disciplines will be added here by JS -->
                </div>
                <div id="completedDisciplinesSection" class="completed-section" style="display: none;">
                    <h4 class="completed-header">Completed Disciplines</h4>
                    <div class="disciplines-list" id="completedDisciplinesList">
                        <!-- Completed disciplines will be added here by JS -->
                    </div>
                </div>
            </section>

            <section class="tasks-section">
                <h3>Tasks</h3>
                <div class="add-task-container">
                    <input 
                        type="text" 
                        id="newTaskInput" 
                        placeholder="Add a new task..." 
                        class="task-input"
                    >
                    <button id="addTaskBtn" class="add-btn">Add Task</button>
                </div>
                <div class="tasks-list" id="tasksList">
                    <!-- Active tasks will be added here by JS -->
                </div>
                <div id="completedTasksSection" class="completed-section" style="display: none;">
                    <h4 class="completed-header">Completed Tasks</h4>
                    <div class="tasks-list" id="completedTasksList">
                        <!-- Completed tasks will be added here by JS -->
                    </div>
                </div>
            </section>

            <section class="lists-section">
                <div class="section-header">
                    <h3>Lists</h3>
                    <button id="downloadBtn" class="download-btn" title="Download all data as JSON">üì• Download</button>
                </div>
                <div class="tabs-container">
                    <div class="tabs" id="tabsContainer">
                        <!-- Tabs will be added here -->
                    </div>
                    <button id="addTabBtn" class="add-tab-btn">+ New List</button>
                </div>
                <div class="tab-content" id="tabContent">
                    <textarea 
                        id="listTextarea" 
                        class="list-textarea"
                        placeholder="Enter your list items here, one per line..."
                        rows="10"
                    ></textarea>
                </div>
            </section>
        </main>
        
        <footer style="margin-top: 2rem; padding: 1rem; text-align: center; font-size: 0.9rem; color: #666;">
            <button id="viewErrorLogBtn" class="download-btn" style="font-size: 0.8rem; padding: 0.3rem 0.8rem;" title="View error log for debugging">üîç View Error Log</button>
        </footer>
    </div>

    <script src="sync-providers.js"></script>
    <script src="app.js"></script>
</body>
</html>
